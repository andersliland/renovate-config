{
  automerge: false,
  automergeStrategy: "rebase",
  automergeType: "pr",
  description: "Automerge minor or lower dependencies",
  packageRules: [
    {
      addLabels: ["autoMerged"],
      assigneesFromCodeOwners: false,
      automerge: true,
      description: "Automatically merge minor dependencies.",
      matchCurrentVersion: "/^v?[1-9]*\\.[0-9]*\\.[0-9]*/",
      matchManagers: [
        "asdf",
        "cargo",
        "docker-compose",
        "github-actions",
        "gomod",
        "npm",
        "pip_requirements",
        "poetry",
        "pre-commit",
      ],
      matchUpdateTypes: ["minor", "patch", "pin"],
      reviewersFromCodeOwners: false,
      schedule: ["after 09:00 and before 15:00 every weekday"],
      stabilityDays: 3,
    },
    {
      addLabels: ["needs review"],
      automerge: false,
      description: "Treat Semver with leading zero as major version for non-dev dependencies. Disable automerge.",
      matchCurrentVersion: "/^v?0\\.[0-9]*\\.[0-9]*/",
      matchManagers: [
        "asdf",
        "cargo",
        "docker-compose",
        "github-actions",
        "gomod",
        "npm",
        "pip_requirements",
        "poetry",
        "pre-commit",
      ],
      matchUpdateTypes: ["minor"],
    },
    {
      addLabels: ["automerge"],
      automerge: true,
      description: "Re-activate automerge for leading zero dev dependencies.",
      matchCurrentVersion: "/^v?0\\.[0-9]*\\.[0-9]*/",
      matchDepTypes: ["devDependencies", "dev-dependencies", "dev"],
      matchManagers: ["npm", "pip_requirements", "poetry"],
      schedule: ["after 09:00 and before 15:00 every weekday"],
      stabilityDays: 3,
    },
    {
      automerge: true,
      description: "Re-activate automerge for pre-commit leading zero deps",
      matchManagers: ["pre-commit"],
      schedule: ["after 09:00 and before 15:00 every weekday"],
      stabilityDays: 3,
    },
    {
      addLabels: ["autoMerged"],
      assigneesFromCodeOwners: false,
      automerge: true,
      description: "Automerge Terraform providers.",
      matchManagers: ["terraform"],
      matchUpdateTypes: ["minor", "patch", "pin"],
      reviewersFromCodeOwners: false,
      schedule: ["after 09:00 and before 15:00 every weekday"],
      stabilityDays: 3,
    },
    {
      addLabels: ["autoMerged"],
      assigneesFromCodeOwners: false,
      automerge: true,
      description: "Automerge Terraform.",
      matchDepNames: ["terraform", "terraform-velo", "hashicorp/terraform"],
      matchManagers: ["regex", "asdf"],
      matchUpdateTypes: ["minor", "patch", "pin"],
      reviewersFromCodeOwners: false,
      schedule: ["after 09:00 and before 15:00 every weekday"],
      stabilityDays: 3,
    },
    {
      assigneesFromCodeOwners: true,
      description: "Assign major update PRs to CodeOwners as these must be manually approved and merged.",
      matchUpdateTypes: ["major"],
      reviewersFromCodeOwners: true,
    },
    {
      addLabels: ["needs review"],
      matchUpdateTypes: ["major"],
    },
    {
      description: "Group the Python asdf updates together with the Python base image",
      groupName: "Python",
      matchDepNames: ["python", "docker.io/library/python"],
      separateMinorPatch: true,
      stabilityDays: 20,
    },
    {
      addLabels: ["needs review"],
      automerge: false,
      description: "Disable automerge for Python Poetry version",
      matchDepNames: ["python", "docker.io/library/python"],
    },
  ],
  platformAutomerge: true,
}
